## HashMap

키에 대한 해시 값을 사용하여 값을 저장,조회하며 키-값 쌍의 개수에 따라 동적으로 크기가 증가하는 연관 배열 (associative array) 

연관 배열을 지칭하는 대표 용어는 Map, Dictionary, Symbol Table

## 동작원리

```jsx
Map<String, Integer> map = new HashMap(); 
map.put("a",1);
```

- 배열(버킷)이 생성되고, 각 배열의 원소는는 linkedList로 구현이 되어있음.
- "a" 값에 대한 hashcode() % 배열 원소 개수 → 배열의 인덱스로 사용
- linkedList 에는 해시코드, key, value, next 여부를 가지고 있음.

### 해시충돌

Open Addression

해시충돌인 경우 다른 해시 버킷에 데이터를 저장하는 방식. 

Separate Chaining → 자바가 사용하는 방식 

각 배열의 인자는 인덱스가 같은 해시 버킷을 연결한 링크드 리스트의 첫부분으로 저장. 

자바 8에서는 데이터가 커지면 연결리스트가 아닌 트리를 사용하여 성능이 좋아짐. 

### 해시 버킷 동적 확장

해시 버킷의 개수가 적으면 메모리 사용을 아끼지만 해시 충돌로 성능손실이 발생할 수 있다. 따라서  hashMap은 데이터 수가 일정 수 이상이면 해시 버킷 개수를 두 배로 늘린다.

해시 버킷의 개수는 기본 16개, 그리고 임계점에 도달할때마다 2배씩 증가한다.  버킷의 최대 개수는 2의 30승

### 보조 해시 함수

" hashcode() % 배열 원소 개수" 계산시 이때 배월원소개수는 소수일떄 충돌이 덜 일어난다. 보조해시함수 목적은 키의 해시 값을 변형하여 해시 충돌 가능성으 줄이는 것이다. 

### 참고

- [https://d2.naver.com/helloworld/831311](https://d2.naver.com/helloworld/831311)