# 인터넷 네트워크
인터넷 통신

- 복잡한 인터넷 망에서 어떻게 서버 ↔ 서버 통신이 가능할까

### IP

인터넷 프로토콜 역할

- 지정한 IP 주소에 데이터 전달
- 패킷이라는 통신 단위로 데이터 전달
    - 패킷 (pakage + bucket)
- IP 패킷에 출발지 IP, 목적지 IP를 가지고 전달 후 도착하면 서버에서 패킷 전달

**IP 한계**

- 비연결성 : 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송
- 비신뢰성 : 중간에 패킷이 사라지면? 패킷이 순서대로 안오면?
- 프로그램 구분: 같은 IP를 사용하는 버서에서 통신하는 어플리케이션이 두개 이상이라면?

### TCP, UDB

IP의 문제를 해결하기 위해!

**인터넷 프로토콜 스택의 4계층**

- 어플리케이션 계층 - HTTP, FTP
- 전송계층 - TCP, UDP
- 인터넷 계층 - IP
- 네트워크 인터페이스 계층 - LAN...

**프로토콜 계층**

- **어플리케이션**
    - 웹브라우저, 네트워크 게임, 채팅 프로그램
    - [소켓 라이브러리]
- **OS**
    - TCP, UDP
    - IP
- **네트워크 인터페이스**
    - LAN 드라이버
    - LAN 장비

1. 프로그램이 Hello, World 메시지 생성
2. Socket 라이브러리 통해 전달
3. TCP 정보 생성, 메지시 데이터 포함
4. IP패킷 생성, TCP 데이터 포함
5. LAN카드에서 인터넷 통해 도착 서버로!

IP 패킷 정보

- 출발지 IP, 도착지 IP, 기타
- 전송 데이터

TCP 패킷 정보

- 출발지 PORT, 목적지 PORT, 전송제어, 순서, 검증 정보
- 전송데이터

### TCP

- 연결지향 - TCP 3 way handshake (가상 연결, 논리적으로만 연결되었다고 판단?한것)
    - TCP 3 way handshake
        - 1.SYN, 2.SYN+ACK, 3.ACK  후 데이터 전송
        - 3 과 함께 데이터 전송 가능
- 데이터 전달 보증
- 순서 보장
- 신뢰할 수 있음
- 현재는 대부분 TCP

### UDP

- 사용자 데이터그램 프로토콜
- 하얀 도화지에 비유 (기능이 거의 없음)
- 데이터 전달 보증 X, 순서 보장 X
- ip와 다른점은 port + 체크섬 정도만 추가
- 어플리케이션에서 추가 작업 필요
- IP와 거의 같고 데이터 전달 및 순서가 보장되지 않지만 단순하고 빠르다
- 최근에 각광
    - http3는 udp 사용

### 포트

- 같은 IP 내 프로세스 구분
- 0 ~ 65535 할당 가능
- 0 ~ 1023 알려진 포트 사용안하는게 좋음

### DNS

- 아이피는 기억하기 어렵고, 변경될 가능성이 있어서 이 문제를 DNS가 해결해줌.
- 도메인 네임 시스템
- 도메인 명을 IP 주소로 변환