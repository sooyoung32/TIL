# http 기본
### 모든 것이 HTTP

- HyperText Transfer Protocol
- HTML, TEXT, 이미지 , 음성, 영상, 파일, JSON...
- 거의 모든 형태의 데이터 전송가능
- 서버간 테이터 통신도 HTTP 사용

###HTTP 역사

- HTTP 1.1 1997 : 가장 많이 사용. 우리에게 가장 중요한
- HTTP2 : 2015 성능 개선
- HTTP3: TCP 대신 UDP 사용. 성능 개선

###기반 프로토콜

- TCP : HTTP:1.1, HTTP2
- UDP : HTTP/3

###HTTP 특징

- 클라이언트 서버 구조
    - request response 구조
    - 클라이언트는 서버에 요청을 보내고 응답을 대기
    - 서버가 요청에 대한 결과를 만들어서 응답
    - 클라이언트와 서버를 분리해서 생각한 것이 중요!
    - 양쪽이 독립적으로 진화할 수 있음
- 무상태 프로토콜 , 비연결성
    - 서버가 클라이언트의 상태를 보존 X
    - 장점 : 서버
    - 단점 :
    - 상태 유지 - stateful
        - 이전상태를 서버가 알고 있음
        - 중간에 다른 점원으로 바뀌면 안됨
        - 항상 같은 서버가 유지되어야한다.
    - 무상태 - stateless
        - 중간에 다른 점원으로 바뀌어도 됨.
        - 갑자기 클라이언트 요청이 증가해도 서버를 대거 투입 가능
        - 무상태는 응답 서버를 쉽게 바꿀 수 있다. → 무한한 서버 증설 가능
        - 한계
            - 모든것을 무상태로 설계할수 있는 경우도 있고, 없는 경우도 있음.
            - 무상태
                - 로그인 필요없는 단순한 서비슷 소개
            - 상태 유지
                - 로그인
            - 로그인한 사용자의 경우 로그인 했다는 상태를 서버에 유지
            - 일반적으로 브라우저 쿠키와 서버 세션을 사용해 상태 유지
            - 상태 유지는 최소한만 사용
            - 데이터를 너무 많이 보낸다는 단점

- 비연결성
    - 서버가 유지하는 자원을 최소한으로 유지
    - http는 기본이 연결을 유지하지 않는 모델
    - 일반적으로 초단위의 이하의 빠른 속도로 응답
    - 서버자원을 매우 효율적으로 사용할 수 있음
    - 한계
        - TCP/IP 연결을 새로 맺어야 함.  3way handshake 시간 추가
        - 웹브라우저로 사이트를 요청하면 HTML뿐 아니라, 자바스크립트 이미지 등 많은 자원을 응답합
        - 지급은 HTTP 지속 연결(persistent connections)로 문제 해결
        - HTTP2,3에는 효율적으로 변경됨

    - stateless를 기억하자
        - 정말 같은 시간에 딱 맞춰어 발생하는 대용량 트래픽
        - 선착순 이벤트
        - 최대한 무상태로 설계하는게 제일 중요!
- HTTP 메시지
    - http  요청 메시지
        - GET /search
        - HOST: www.google.com
    - http 응답 메시지
        - HTTP/1.1 200 OK
        - Content-Type : text/html
        - Content-Length :3434

    - 메시지 구조
        - start line
            - request-line
                - http 메서드  : GET, POST, PUT, DELETE
                - 요청 대상 : /search?
                - http 버전
            - status-line
                - http 버전
                - status code
                - 이유 문구
        - header
            - 필드이름 : 필드 값
            - 용도
                - http 전송에 필요한 모든 부가정보
                - 바디의 내용, 바디 크기, 압축, 인증, 요청 클라이언트 정보, 서버 어플리케이션 정보, 캐시 관리 정보
        - empty line
        - message body
            - 실제 전송할 데이터
            - html 문서, 이미지, 영상, json 등 바이트로 표현할수 있는 모든 문서
- 순함, 확장 가능
    - http 단순하다