# 테스트 주도 개발의 기초
## 엔지니어링

- 엔지니어링은 자연의 자원을 인류의 용도로 최적 전환 하기 위한 과학의 적용
- 과학은 목적이 아니라 수단이다.
- 엔지니어링은 거래(trade-off)다
    - 더 심각한 문제 ↔ 덜 심각한 문제
- **문제를 푸는게 가장 중요!!**
- 근육기억
    - 반복되는 문제 해결에 비용이 많이 쓰인다면, 연습하고 연습해서 생각의 비용을 줄여 뇌에 새겨라..

## 패턴

- 알려진 문제의 일반적이고 재사용 할 수 있는 해결법
- 언제 이 패턴을 써야하는지를 알아야 함.
- 언제 이걸 써야하는지 문제해결을 위해 써야한다.

## 도메인

- 소프트웨어는 문제를 푸는 도구
- 도메인은 소프트웨어가 풀어야할 문제가 정의 되는 공간
- 비즈니스 시스템의 도메인은 비즈니스
- 문제를 충분히 이해해야 풀 수 있음 → 따라서 도메인 지식을 잘 알아야함!

## 테스트 기법

### 수동 테스트

- 품질 담당자가 UI를 사용해 기능 검증
- 실행 비용이 높고 결과의 변동이 큼
- 인수 테스트
- 가장 온전한 코드 실행
- 소프트웨어 회귀 :
    - 원래 동작하는 것들이 동작이 안되는 경우.
    - 신규 기능으로 인해 기존 기능이 검증이 안되는 경우

### 테스트 자동화

- 기능 검증 코드 작성
- 비용이 낮고 겨로가의 신뢰도가 높음
- 테스트 코드 작성과 관리가 프로그래머 역량에 영향을 받음

### 인수 테스트

- 최대한 프로덕션과 비슷한 환경에서 하는 테스트
- 전체 시스템 이상 여부 신뢰도가 높음
- 높은 비용
- 피드백 품질이 낮음

### 단위 테스트

- 시스템의 일부를 대상으로 검증
- 낮은 비용
- 높은 피드백 품질
- 전체 시스템 이상 여부 신뢰도가 낮음

## 코드 분해

- 반복되는 문제의 풀이는 재사용 가능
- 소프트웨어 개발 비용 절감

### 모듈화

- 분해
    - 큰 시스템은 더 작은 하위 시스템으로 분해 가능
    - 교체가능
- 조립
    - 작은 시스템은 더 큰 상위 시스템으로 조립 가능
    - 모듈 재사용
    - 라이브러리

## 테스트 우선 개발

- 운영코드보다 테스트코드 먼저 작성
    - 명확하고 검증 가능한 목표를 설정한 후 목표를 달성
    - 프로세스가 코딩에 앞선 목표 설정을 강요
    - 프로그래머는 자신이 풀어야할 문제를 문제를 구체적으로 이해해야함

## 정리된 코드

- 생산성
- 지속성
- 코드는 작업 환경이자 작업 결과물

### 리팩터링

- 의미를 유지하며 코드베이르르 정리하는것
- 의미 유지를 어떻게 확인할 것인가?  → 테스트

## 테스트 주도 개발

레드 (실패테스트) → 그린 (테스트 통과) → 리팩터 (구현설계 개선, 테스트 통과 유지)

### 레드

- 구체적인 하나의 요구사항을 검증하는 하나의 테스트를 추가
- 추가된 테스트가 실패하는지 확인

### 그린

- 추가된 테스트를 비롯해 모든 테스트가 성공하도록 운영 코드 변경
- 테스트 성공은 요구사항을 만족함
- 테스트 성공을 위한 **최소한**의 변경
- 테스트를 성공할 수 있는 가장 빠르고, 쉬운 방법을 선택해야함.

### 리팩터링

- 코드베이스 정리
    - 인터페이스를 바꾸는게 아님
- 구현 설계 개선
    - 가독성
    - 적응성
    - 성능
- 모든 테스트 성공을 전제로 함

### 켄트벡의 설계 규칙

- 테스트 통과
- 의도 노출
- 중복 제거  (의도 노출과 상충될 수 있다)
- 가장 적은 요소
    - 필요하지 않은 코드는 모두 제거하라

### 세부 흐름

- 단위테스트 작성 → 단위 테스트 실행 → 실패 → 운영코드 작성 → 단위 테스트 실행 → 성공 → 설계 개선 → 단위 테스트 실행

## 피드백

- 사용자 피드백
- QA
- 프로그래머 테스트
- 도구 피드백 (컴파일, 정적 검사 등)

### 오버엔지니어링

- 요구사항 명세에 지정되지 않는 성능 달성이나, 구현 설계 품질 개선에 빠저드는 경향이 있음
- 기능 요구사항에 써야할 자원을 불필요하게 낭비

### 핵심은 피드백

- 짧은 주기로 지속되는 피드백
- 피드백에 기반해 안정적으로 지식과 코드를 늘려나가는것이 목적

## 프로그래머 피드백

-